/* -------------------------------------------------------
   LIVE (Light • Soft Animated Background • Modern Fonts)
   Fonts: Plus Jakarta Sans (UI) + Space Grotesk (digits)
------------------------------------------------------- */

/* Google Fonts */
@import url("https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=Space+Grotesk:wght@600;700;800&display=swap");

/* ===== Theme tokens ===== */
:root{
  --ink:#0b1220;             /* main text */
  --muted:#667085;           /* secondary text */
  --card:#ffffff;            /* surfaces */
  --bg:#e8e9ee;              /* page background */
  --stroke:#aab1c0;          /* borders */
  --shadow:0 10px 30px rgba(2,6,23,.08);
  --accent:#16a34a;          /* green accent */
  --accent-weak:#bbf7d0;
  --blue:#2563eb;
}

/* ===================== Root layout ===================== */
.live-root{
  position:relative;
  min-height:100vh;
  overflow:hidden;
  display:grid;
  place-items:center;
  background:var(--bg);
  color:var(--ink);
  isolation:isolate;
  font-family:"Plus Jakarta Sans", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
}

/* ===================== Animated Light Background ===================== */
.bg-gradient{
  position:absolute; inset:-30% -30%;
  /* Mild white/pastel blobs */
  background:
    radial-gradient(60% 60% at 15% 25%, rgba(255,255,255,.95), transparent 60%),
    radial-gradient(55% 55% at 85% 20%, rgba(245,248,255,.95), transparent 60%),
    radial-gradient(50% 50% at 70% 80%, rgba(255,250,245,.92), transparent 60%),
    radial-gradient(40% 40% at 30% 80%, rgba(244,247,255,.9), transparent 60%),
    radial-gradient(35% 35% at 45% 55%, rgba(255,255,255,.85), transparent 60%);
  filter: blur(42px) saturate(108%);
  animation: bgFloat 22s ease-in-out infinite alternate;
  z-index:-3;
}
@keyframes bgFloat{
  0%   { transform: translate3d(-1%, -1%, 0) scale(1); }
  35%  { transform: translate3d( 1.2%,  0.6%, 0) scale(1.02); }
  70%  { transform: translate3d(-.6%,  1.2%, 0) scale(1.015); }
  100% { transform: translate3d( 1.4%, -1%,  0) scale(1.03); }
}

/* Keep grid off for this theme */
.bg-grid{ display:none; }

/* ===================== Little Background Object(s) ===================== */
.bg-object{
  position:absolute;
  top:8%;
  right:10%;
  width:min(38vmin,420px);
  aspect-ratio:1/1;
  border-radius: 36% 64% 58% 42% / 40% 48% 52% 60%;
  background:
    radial-gradient(40% 40% at 30% 30%, rgba(255,255,255,.95), rgba(245,248,255,.6) 60%, rgba(240,243,255,0) 75%),
    conic-gradient(from 210deg at 50% 50%, rgba(255,255,255,.35), rgba(255,255,255,0) 60%);
  filter: blur(6px) saturate(108%);
  animation: blobDrift 26s ease-in-out infinite alternate;
  z-index:-2;           /* behind the card, above the page bg */
  pointer-events:none;
}
.bg-object.alt{
  top:auto; bottom:8%;
  right:auto; left:8%;
  width:min(28vmin,340px);
  border-radius: 60% 40% 42% 58% / 55% 45% 55% 45%;
  background:
    radial-gradient(45% 45% at 65% 65%, rgba(255,255,255,.9), rgba(246,249,255,.55) 55%, rgba(240,243,255,0) 78%),
    conic-gradient(from 60deg at 50% 50%, rgba(255,255,255,.28), rgba(255,255,255,0) 55%);
  animation: blobDriftAlt 28s ease-in-out infinite alternate;
}
@keyframes blobDrift{
  0%   { transform: translate3d(0,0,0) rotate(0deg) scale(1); }
  50%  { transform: translate3d(2%, 4%, 0) rotate(8deg) scale(1.03); }
  100% { transform: translate3d(-1%, -2%, 0) rotate(-6deg) scale(.98); }
}
@keyframes blobDriftAlt{
  0%   { transform: translate3d(0,0,0) rotate(0deg) scale(1.02); }
  50%  { transform: translate3d(-2%, -3%, 0) rotate(-10deg) scale(1); }
  100% { transform: translate3d(1%, 2%, 0) rotate(6deg) scale(1.04); }
}

/* ===================== Subtle bokeh particles ===================== */
.particles{ position:absolute; inset:0; pointer-events:none; z-index:-1; }
.particles .p{
  position:absolute; width:8px; height:8px; border-radius:50%;
  background: radial-gradient(circle at 35% 35%, #fff, #eef2ff 65%, #e7eaf0);
  opacity:.55; filter: blur(.45px);
  animation: drift 18s linear infinite, twinkle 3.2s ease-in-out infinite;
}
.p-1{ left:8%;  animation-duration:16s;}
.p-2{ left:22%; animation-duration:19s;}
.p-3{ left:39%; animation-duration:20s;}
.p-4{ left:58%; animation-duration:18s;}
.p-5{ left:74%; animation-duration:17s;}
.p-6{ left:88%; animation-duration:21s;}
@keyframes drift{
  0% { transform: translateY(110%); opacity:0; }
  12%{ opacity:.55; }
  90%{ opacity:.55; }
  100%{ transform: translateY(-10%); opacity:0; }
}
@keyframes twinkle{
  0%,100%{ filter: brightness(1); }
  50%    { filter: brightness(1.15); }
}

/* ===================== Stage ===================== */
.clock-stage{
  position:relative;
  width:min(1100px,96vw);
  aspect-ratio:16/9;
  display:grid;
  place-items:center;
}

/* Soft pulse halo */
.pulse-ring{
  position:absolute;
  width:78vmin; height:78vmin;
  border-radius:50%;
  background:
    radial-gradient(closest-side, rgba(255,255,255,.55), transparent 65%),
    conic-gradient(from 0deg, rgba(255,255,255,.28), rgba(255,255,255,0) 45%);
  animation:pulse 3s ease-in-out infinite;
  filter: blur(6px);
  z-index:0;
}
@keyframes pulse{
  0%{ transform:scale(.985); opacity:.35; }
  50%{ transform:scale(1.02); opacity:.55; }
  100%{ transform:scale(.985); opacity:.35; }
}

/* ===================== Card ===================== */
.clock-card{
  position:relative; z-index:1;
  width:min(900px,92vw);
  padding:clamp(18px,3.5vmin,28px);
  border-radius:22px;
  background:var(--card);
  border:1px solid var(--stroke);
  box-shadow:var(--shadow);
  backdrop-filter: saturate(112%) blur(2px);
}

/* Header */
.clock-top{ display:flex; align-items:center; gap:10px; margin-bottom:clamp(8px,1.8vmin,14px); }
.live-dot{
  width:10px; height:10px; border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 0 0 rgba(22,163,74,.32);
  animation: dotPulse 2s ease-in-out infinite;
}
@keyframes dotPulse{
  0%,100%{ transform:scale(1); box-shadow:0 0 0 0 rgba(22,163,74,.22); }
  50%{ transform:scale(1.15); box-shadow:0 0 0 8px rgba(22,163,74,.10); }
}
.live-label{
  color:#0e9f6e;
  font-weight:800; letter-spacing:.18em; font-size:.86rem;
}
.spacer{ flex:1; }
.fmt-toggle{
  background:#f8fafc; color:var(--ink);
  border:1px solid var(--stroke);
  padding:6px 10px; border-radius:999px;
  font-weight:700; letter-spacing:.03em; cursor:pointer;
  transition: transform .12s ease, box-shadow .18s ease, background .15s ease, border-color .15s ease;
  box-shadow:0 4px 12px rgba(2,6,23,.06);
}
.fmt-toggle:hover{ transform:translateY(-1px); border-color:#d3d8e1; background:#fff; }

/* Stop the dot when truly live */
.clock-card[data-mode="live"] .live-dot{ animation:none; box-shadow:none; background:#15803d; }

/* ===================== Digits ===================== */
.clock-digits{
  display:flex; align-items:baseline; justify-content:center;
  gap:clamp(12px,2vmin,20px);
  font-variant-numeric:tabular-nums;
  user-select:none; white-space:nowrap;
  color:var(--ink);
  font-family:"Space Grotesk","Plus Jakarta Sans",ui-sans-serif;
}
.digit{
  font-size:clamp(56px,12vmin,140px);
  line-height:.9; font-weight:800; letter-spacing:.01em;
  color:var(--ink);
}
.digit.seconds{
  opacity:.9; color:#334155;
  animation: tickFlash 1s steps(2,end) infinite;
}
@keyframes tickFlash{ 0%,100%{opacity:.95;} 50%{opacity:.75;} }
.colon{
  font-size:clamp(56px,12vmin,140px);
  color:#94a3b8;
  animation: colonBlink 1s steps(2,end) infinite;
}
@keyframes colonBlink{ 0%{opacity:1;} 50%{opacity:.3;} 100%{opacity:1;} }
.ampm{ margin-left:8px; font-size:clamp(14px,2.2vmin,20px); color:#475569; font-weight:800; letter-spacing:.06em; }

/* Date + TZ */
.clock-sub{
  margin-top:clamp(6px,1.4vmin,12px);
  display:flex; gap:10px; justify-content:center; align-items:center;
  color:var(--muted); font-weight:600;
}
.clock-sub .dot{ opacity:.55; color:#9aa3b2; }

/* Decorative scanline (subtle) */
.scanline{
  position:absolute; left:8%; right:8%; height:2px; bottom:10px;
  background: linear-gradient(90deg, transparent, rgba(2,6,23,.12), transparent);
  animation: scanMove 4s ease-in-out infinite;
  opacity:.45;
}
@keyframes scanMove{
  0%{ transform: translateX(-8%); } 50%{ transform: translateX(8%);} 100%{ transform: translateX(-8%); }
}

/* ===================== Back button ===================== */
.live-back-btn{
  position:absolute; top:16px; left:16px;
  width:44px; height:44px; border-radius:50%;
  background:#ffffffc8; color:var(--ink); border:1px solid var(--stroke);
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; backdrop-filter: blur(4px);
  box-shadow:0 6px 18px rgba(2,6,23,.08);
  transition: transform .12s ease, box-shadow .18s ease, background .15s ease;
  z-index:20;
}
.live-back-btn:hover{ transform:translateY(-1px); background:#fff; box-shadow:0 10px 24px rgba(2,6,23,.12); }
.live-back-btn:active{ transform:scale(.97); }

/* ===================== Waiting / Countdown ===================== */
.waiting-host{
  margin-top:10px; text-align:center;
  color:var(--ink); font-weight:700; letter-spacing:.02em;
  background: linear-gradient(180deg, #ffffff, #f8fafc);
  border:1px solid var(--stroke); border-radius:12px;
  padding:10px 14px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.55);
}

/* ===================== Question block ===================== */
.live-qblock{
  margin-top:10px;
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:16px;
  padding:14px;
  box-shadow:var(--shadow);
}
.live-question{
  margin:0 0 10px 0;
  color:var(--ink);
  font-weight:800; letter-spacing:.01em;
  font-family:"Space Grotesk","Plus Jakarta Sans",sans-serif;
}

/* Options layout */
.live-options{ display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:10px; }
@media (max-width:640px){ .live-options{ grid-template-columns:1fr; } }

/* Option button */
.live-option{
  appearance:none; border:1px solid var(--stroke); border-radius:14px;
  padding:12px 14px; font-weight:800; color:var(--ink);
  background: linear-gradient(180deg, #ffffff, #f9fafb);
  box-shadow: 0 6px 16px rgba(2,6,23,.06);
  cursor:pointer; text-align:left;
  transition: transform .08s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
}
.live-option:hover{
  transform: translateY(-1px);
  box-shadow:0 10px 22px rgba(2,6,23,.08);
  border-color:#d3d8e1; background:#ffffff;
}
.live-option:active{ transform:translateY(0) scale(.995); }
.live-option.picked{
  border-color:var(--blue);
  box-shadow:0 10px 24px rgba(37,99,235,.18);
  background: linear-gradient(180deg, #ffffff, #eef2ff);
}
.live-option.locked, .live-option:disabled{
  opacity:.65; cursor:not-allowed; transform:none !important; filter:grayscale(.05);
}

/* Footer under options */
.live-footer{
  margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;
  align-items:center; justify-content:space-between;
}
.time-pill, .answered-pill, .hint-pill{
  display:inline-flex; align-items:center; gap:8px;
  font-weight:800; letter-spacing:.02em;
  padding:6px 10px; border-radius:999px; border:1px solid transparent;
}
.time-pill{
  color:#064e3b; background:var(--accent-weak);
  border-color:#d1fae5; box-shadow:0 6px 16px rgba(16,185,129,.18);
}
.answered-pill{
  color:#7c2d12; background:#fde68a; border-color:#fef3c7; box-shadow:0 6px 16px rgba(245,158,11,.18);
}
.hint-pill{
  color:#1e3a8a; background:#e0e7ff; border-color:#c7d2fe; box-shadow: inset 0 0 0 1px #eef2ff;
}

/* ===================== Host controls ===================== */
.host-primary, .host-secondary, .host-danger{
  appearance:none; border:1px solid transparent; border-radius:999px;
  padding:10px 16px; font-weight:900; letter-spacing:.02em; cursor:pointer;
  transition: transform .08s ease, box-shadow .18s ease, background .18s ease, filter .18s ease, opacity .18s ease;
}
.host-primary{
  color:#052e16; background: linear-gradient(180deg, #34d399, #22c55e);
  border-color:#bbf7d0; box-shadow:0 14px 28px rgba(16,185,129,.25);
}
.host-primary:hover{ transform:translateY(-1px); filter:brightness(1.05); box-shadow:0 18px 34px rgba(16,185,129,.35); }
.host-primary:disabled{ opacity:.5; cursor:not-allowed; }

.host-secondary{
  color:#fff; background: linear-gradient(180deg, #3b82f6, #2563eb);
  border-color:#bfdbfe; box-shadow:0 14px 28px rgba(37,99,235,.22);
}
.host-secondary:hover{ transform:translateY(-1px); filter:brightness(1.05); box-shadow:0 18px 34px rgba(37,99,235,.3); }
.host-secondary:disabled{ opacity:.5; cursor:not-allowed; }

.host-danger{
  color:#fff; background: linear-gradient(180deg, #ef4444, #dc2626);
  border-color:#fecaca; box-shadow:0 14px 28px rgba(239,68,68,.22);
}
.host-danger:hover{ transform:translateY(-1px); filter:brightness(1.05); box-shadow:0 18px 34px rgba(239,68,68,.3); }

/* ===================== Mini leaderboards ===================== */
.live-boards{ margin-top:14px; display:grid; grid-template-columns:1fr 1fr; gap:12px; }
@media (max-width:860px){ .live-boards{ grid-template-columns:1fr; } }

.lb-card{
  background:var(--card); border:1px solid var(--stroke);
  border-radius:16px; padding:12px; box-shadow:var(--shadow);
}
.lb-card h4{
  margin:0 0 8px 0; color:var(--ink); letter-spacing:.01em; font-weight:900;
  font-family:"Space Grotesk","Plus Jakarta Sans",sans-serif;
}
.lb-empty{ text-align:center; color:var(--muted); opacity:.95; padding:12px 8px; }
.lb-list{ list-style:none; margin:0; padding:0; display:grid; gap:6px; }
.lb-list li{
  display:grid; grid-template-columns:32px 1fr auto auto; gap:8px; align-items:center;
  padding:8px 10px; border-radius:12px; background:#f9fafb; border:1px solid var(--stroke);
}
.lb-list .rank{ color:#0e9f6e; font-weight:900; text-align:center; }
.lb-list .name{ color:var(--ink); font-weight:800; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.lb-list .score{ color:#92400e; font-weight:900; }
.lb-list .time{ color:#1d4ed8; font-weight:900; text-align:right; }

/* ===================== Responsive tweaks ===================== */
@media (max-width:520px){
  .clock-card{ border-radius:18px; }
  .live-label{ letter-spacing:.12em; }
  .fmt-toggle{ padding:5px 9px; }
}
